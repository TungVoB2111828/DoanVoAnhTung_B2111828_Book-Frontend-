<template>
    <div v-if="publisher && publisher.MaNXB" class="card p-3">
        <div class="card-body">
            <h5 class="card-title">{{ publisher.TenNXB }}</h5>
            <p class="card-text"><strong>Äá»‹a chá»‰:</strong> {{ publisher.DiaChi }}</p>

            <!-- NÃºt xÃ³a -->
            <button class="btn btn-danger mt-3" @click="deletePublisher">XÃ³a</button>
        </div>
    </div>
    <div v-else class="alert alert-warning">
        ğŸ“Œ KhÃ´ng cÃ³ dá»¯ liá»‡u nhÃ  xuáº¥t báº£n há»£p lá»‡.
    </div>
</template>

<script>
export default {
    props: {
        publisher: {
            type: Object,
            required: true,
            default: () => ({}) // Äáº£m báº£o object luÃ´n cÃ³ giÃ¡ trá»‹
        }
    },
    emits: ["deletePublisher"], // Äáº£m báº£o sá»± kiá»‡n Ä‘Æ°á»£c phÃ¡t ra tá»« component con
    methods: {
        deletePublisher() {
            console.log("ğŸ“Œ ID nhÃ  xuáº¥t báº£n cáº§n xÃ³a:", this.publisher._id); // Ghi log _id thay vÃ¬ MaNXB
            if (!this.publisher._id) {
                console.error("âŒ Lá»—i: _id khÃ´ng há»£p lá»‡!", this.publisher);
                return;
            }
            if (confirm("Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a nhÃ  xuáº¥t báº£n nÃ y?")) {
                // PhÃ¡t sá»± kiá»‡n xÃ³a nhÃ  xuáº¥t báº£n lÃªn component cha (PublisherManagement)
                this.$emit("deletePublisher", this.publisher._id); // Truyá»n _id
            }
        }
    }
};
</script>
