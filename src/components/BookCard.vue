<template>
    <div v-if="book && book.MaSach" class="card p-3">
        <div class="p-1">
            <strong>M√£ s√°ch:</strong> {{ book.MaSach }}
        </div>
        <div class="p-1">
            <strong>T√™n s√°ch:</strong> {{ book.TenSach }}
        </div>
        <div class="p-1">
            <strong>ƒê∆°n gi√°:</strong> {{ book.DonGia }} VND
        </div>
        <div class="p-1">
            <strong>S·ªë quy·ªÉn:</strong> {{ book.SoQuyen }}
        </div>
        <div class="p-1">
            <strong>NƒÉm xu·∫•t b·∫£n:</strong> {{ book.NamXuatBan }}
        </div>
        <div class="p-1">
            <strong>Nh√† xu·∫•t b·∫£n:</strong> {{ book.MaNXB }}
        </div>
        <div class="p-1">
            <strong>T√°c gi·∫£ / Ngu·ªìn g·ªëc:</strong> {{ book.TacGia }}
        </div>

        <!-- N√∫t x√≥a -->
        <button class="btn btn-danger mt-3" @click="deleteBook">X√≥a</button>
    </div>
    <div v-else class="alert alert-warning">
        üìå Kh√¥ng c√≥ d·ªØ li·ªáu s√°ch h·ª£p l·ªá.
    </div>
</template>

<script>
export default {
    props: {
        book: { 
            type: Object, 
            required: true,
            default: () => ({}) // ƒê·∫£m b·∫£o lu√¥n c√≥ object m·∫∑c ƒë·ªãnh
        }
    },
    emits: ["deleteBook"],
    methods: {
        deleteBook() {
            if (!this.book || !this.book.MaSach) {
                console.error("‚ùå L·ªói: Kh√¥ng th·ªÉ x√≥a, book ho·∫∑c MaSach kh√¥ng h·ª£p l·ªá!", this.book);
                return;
            }
            console.log("üìå X√≥a s√°ch v·ªõi ID:", this.book.MaSach);
            if (confirm("B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a s√°ch n√†y?")) {
                this.$emit("deleteBook", this.book.MaSach);
            }
        }
    }
};
</script>
